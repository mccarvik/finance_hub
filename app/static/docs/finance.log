2016-11-26 19:58:36,845 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 110, in removePunctuation
    df[col] = df[col].apply(lambda x: x.replace(pct,""))
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/pandas/core/series.py", line 2220, in apply
    mapped = lib.map_infer(values, f, convert=convert_dtype)
  File "pandas/src/inference.pyx", line 1088, in pandas.lib.map_infer (pandas/lib.c:62658)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 110, in <lambda>
    df[col] = df[col].apply(lambda x: x.replace(pct,""))
AttributeError: 'NoneType' object has no attribute 'replace'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1641, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 77, in __init__
    self.clean_data()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 95, in clean_data
    self.removePunctuation()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 112, in removePunctuation
    print("column prob doesnt need punctiation cleaning" + e)
TypeError: Can't convert 'AttributeError' object to str implicitly
2016-11-26 19:58:56,484 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 19:59:23,343 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 77, in __init__
    self.clean_data()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 100, in clean_data
    def removePunctuation(self):
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 100, in clean_data
    def removePunctuation(self):
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 48, in trace_dispatch
    return self.dispatch_line(frame)
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 67, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2016-11-26 19:59:25,592 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 19:59:54,276 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 77, in __init__
    self.clean_data()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 97, in clean_data
    self.numberfy()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 121, in numberfy
    for col in df.columns:
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 121, in numberfy
    for col in df.columns:
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 48, in trace_dispatch
    return self.dispatch_line(frame)
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 67, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2016-11-26 19:59:56,950 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:00:33,897 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 77, in __init__
    self.clean_data()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 97, in clean_data
    import pdb; pdb.set_trace()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 121, in numberfy
    for col in df.columns:
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 121, in numberfy
    for col in df.columns:
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 48, in trace_dispatch
    return self.dispatch_line(frame)
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 67, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2016-11-26 20:00:36,486 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:07:31,903 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 77, in __init__
    self._nonnumeric = self.readNonNumeric()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 98, in clean_data
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 98, in clean_data
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 48, in trace_dispatch
    return self.dispatch_line(frame)
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 67, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2016-11-26 20:07:34,022 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:08:46,633 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 78, in __init__
    self.clean_data()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 112, in clean_data
    app.logger.info("Done cleaning data")
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 112, in clean_data
    app.logger.info("Done cleaning data")
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 48, in trace_dispatch
    return self.dispatch_line(frame)
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 67, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2016-11-26 20:08:50,593 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:11:05,126 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 77, in __init__
    self._nonnumeric = self.readNonNumeric()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 92, in readNonNumeric
    return nn.split(",")
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 92, in readNonNumeric
    return nn.split(",")
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 48, in trace_dispatch
    return self.dispatch_line(frame)
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 67, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2016-11-26 20:11:07,302 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:12:03,968 ERROR: Exception on /equity_screener [POST] [in /home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py:1587]
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1988, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1544, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/_compat.py", line 33, in reraise
    raise value
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1639, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/ubuntu/miniconda3/lib/python3.5/site-packages/flask/app.py", line 1625, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/home/ubuntu/workspace/finance/app/views.py", line 30, in equity_screener
    eqsc_post(request)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 13, in post
    run_screening(filters=t_filts, sim=False)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_screener.py", line 185, in run_screening
    df = ES_Dataframe(filters=filters)
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 78, in __init__
    self.clean_data()
  File "/home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py", line 78, in __init__
    self.clean_data()
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 48, in trace_dispatch
    return self.dispatch_line(frame)
  File "/home/ubuntu/miniconda3/lib/python3.5/bdb.py", line 67, in dispatch_line
    if self.quitting: raise BdbQuit
bdb.BdbQuit
2016-11-26 20:12:06,286 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:14:32,924 INFO: Done cleaning data [in /home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py:111]
2016-11-26 20:17:45,696 INFO: COULD NOT APPLY FILTER: <class 'bdb.BdbQuit'>, 144,  [in /home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py:151]
2016-11-26 20:17:45,697 INFO: Filters applied [in /home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py:153]
2016-11-26 20:17:52,422 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:18:03,160 INFO: finance hub startup [in /home/ubuntu/workspace/finance/app/__init__.py:49]
2016-11-26 20:18:57,478 INFO: Done cleaning data [in /home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py:110]
2016-11-26 20:19:13,341 INFO: Filters applied [in /home/ubuntu/workspace/finance/app/equity_screener/equity_stats.py:153]
